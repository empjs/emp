# å¼•å…¥æ ·å¼èµ„æº

EMP å†…ç½®å¤šç§å¸¸ç”¨çš„æ ·å¼èµ„æºå¤„ç†æ–¹å¼ï¼ŒåŒ…æ‹¬ Sass é¢„å¤„ç†å™¨ã€PostCSSã€CSS Modulesã€CSS å†…è”å’Œ CSS å‹ç¼©ã€‚

é™¤æ­¤ä¹‹å¤–ï¼ŒEMP ä¹Ÿæä¾›äº†å¤šä¸ªé…ç½®é¡¹æ¥è‡ªå®šä¹‰æ ·å¼èµ„æºçš„å¤„ç†è§„åˆ™ã€‚

## ä½¿ç”¨ Sass

EMPç›®å‰å†…ç½®äº†ç¤¾åŒºæµè¡Œçš„ CSS é¢„å¤„ç†å™¨ä¹‹ä¸€ï¼š`Sass`ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œä½ ä¸éœ€è¦å¯¹ Sass è¿›è¡Œä»»ä½•é…ç½®ã€‚ç›®å‰æ‚¨æ— æ³•å¯¹å…¶è¿›è¡Œä»»ä½•é…ç½®ã€‚

## ä½¿ç”¨ PostCSS

EMP å†…ç½®äº† PostCSS æ¥è½¬æ¢ CSS ä»£ç ã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ¥é…ç½® PostCSSï¼š

1. EMP ä½¿ç”¨ `postcss-load-config` æ¥åŠ è½½å½“å‰é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ PostCSS é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚ï¼š

```js title="postcss.config.js"
module.exports = {
  'postcss-px-to-viewport': {
    viewportWidth: 375,
  },
};
```

2. é€šè¿‡ EMP çš„ `css.postcss` é€‰é¡¹æ¥é…ç½® postcss-loaderï¼Œè¯¥é€‰é¡¹æ”¯æŒé€šè¿‡å‡½æ•°æ¥ä¿®æ”¹å†…ç½®é…ç½®ï¼Œæ¯”å¦‚ï¼š

```js title="emp.config.js"
export default defineConfig(store => {
  return {
    css: {
      postcss: opts => {
        const viewportPlugin = require('postcss-px-to-viewport')({
          viewportWidth: 375,
        })
        opts.postcssOptions.plugins.push(viewportPlugin)
      },
    },
  }
})
```

å½“ä½ åŒæ—¶é…ç½® `postcss.config.js` æ–‡ä»¶å’Œ `css.postcss` é€‰é¡¹æ—¶ï¼Œä¸¤è€…éƒ½ä¼šç”Ÿæ•ˆï¼Œå¹¶ä¸” `css.postcss` çš„ä¼˜å…ˆçº§æ›´é«˜ã€‚

### å†…ç½® PostCSS æ’ä»¶

EMP å†…ç½®äº† [autoprefixer](https://github.com/postcss/autoprefixer) æ’ä»¶ï¼Œæ¥è‡ªåŠ¨è¡¥é½ CSS çš„æµè§ˆå™¨å‰ç¼€ã€‚
å¦‚æœä½ éœ€è¦é…ç½®ç›®æ ‡æµè§ˆå™¨ï¼Œå¯ä»¥ä½¿ç”¨ [browserslist](https://rsbuild.dev/zh/guide/advanced/browserslist) è¿›è¡Œé…ç½®ã€‚

:::tip ğŸ’¡ TIP
å¦‚æœä½ çš„é¡¹ç›®ä¸­å·²ç»æ³¨å†Œäº† autoprefixer æ’ä»¶ï¼ŒEMP ä¸ä¼šå†æ¬¡æ³¨å†Œ autoprefixer æ’ä»¶ã€‚
:::

## ä½¿ç”¨CSS Modules

è¯·å‚é˜… [ä½¿ç”¨ CSS Modules](/guide/basis/cssModules.html) ç« èŠ‚æ¥äº†è§£ CSS Modules çš„å®Œæ•´ç”¨æ³•ã€‚

## CSS å‹ç¼©

åœ¨ç”Ÿäº§ç¯å¢ƒæ„å»ºæ—¶ï¼Œ EMP ä¼šå°† CSSã€JS ç­‰`é™æ€èµ„æº`è¿›è¡Œå‹ç¼©ï¼Œä»¥è¾¾åˆ°æ›´å¥½çš„ä¼ è¾“æ•ˆç‡ã€‚

EMP é»˜è®¤ä½¿ç”¨ Rspack å†…ç½®çš„ `SwcCssMinimizerRspackPlugin` æ’ä»¶ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒæ„å»ºæ—¶è‡ªåŠ¨å‹ç¼© CSS ä»£ç ã€‚

## å¼•ç”¨ node_modules é‡Œçš„æ ·å¼

ä½ å¯ä»¥ç›´æ¥å¼•ç”¨ node_modules é‡Œçš„æ ·å¼æ–‡ä»¶ã€‚

- åœ¨ç»„ä»¶ä¸­å¼•å…¥:
  ```tsx title="src/appendFile.tsx"
  // å¼•ç”¨ Arco Design æ ·å¼ï¼š
  import '@arco-design/web-react/dist/css/arco.css';
  ```
- åœ¨æ ·å¼æ–‡ä»¶ä¸­å¼•ç”¨ï¼š
  ```css title="src/App.css"
  /* å¼•ç”¨ normalize.css */
  /* https://github.com/necolas/normalize.css */
  @import 'normalize.css';

  body {
    /* */
  }
  ```