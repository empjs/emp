import Preparation from '../../shared/preparation.md'
import { Tabs, Tab, PackageManagerTabs } from '@theme';
import YarnProblem from '../../shared/problems/yarnProblem.md'

# Vue2 MF

åœ¨Vue2ä¸­ï¼Œæˆ‘ä»¬å‡†å¤‡äº†ä¸¤ä¸ªè¿›é˜¶ç¤ºä¾‹é¡¹ç›®ä½œä¸ºå‚è€ƒï¼Œåˆ†åˆ«æ˜¯ï¼š

- `vue-2-base`ï¼šåŸºç¡€é¡¹ç›®ï¼Œç”¨äºä¹¦å†™é€šç”¨ä¸šåŠ¡ç»„ä»¶å¯¹å¤–æš´éœ²ï¼Œå®ƒé€šå¸¸æ˜¯ä¸€äº›é¡¹ç›®çš„åŸºçŸ³ã€‚
- `vue-2-project`ï¼šåº”ç”¨é¡¹ç›®ï¼Œç”¨äºå’Œå…¶ä»–é€šç”¨ä¸šåŠ¡ç»„ä»¶è¿›è¡Œé›†æˆï¼Œå®ƒé€šå¸¸æ˜¯ä¸€äº›é¡¹ç›®çš„ä¸šåŠ¡é€»è¾‘ã€‚

:::info ğŸ’¡ TIP
ä¸¤ä¸ªä¸šåŠ¡çš„demoä»…ä»…åªæ˜¯éƒ¨åˆ†ä¾èµ–ä»¥åŠempçš„é…ç½®ä¸ä¸€æ ·ï¼Œæ‚¨å¯ä»¥æ ¹æ®æ‚¨çš„ä¸šåŠ¡éœ€æ±‚è¿›è¡Œè‡ªç”±é€‰æ‹©æˆ–è€…ç»„åˆã€‚
:::

<Preparation />

### å®‰è£…empâš¡

å…·ä½“æ“ä½œæ­¥éª¤è¯·å‚è€ƒ[å¿«é€Ÿä¸Šæ‰‹](/guide/start/quick-start)

### é¡¹ç›®åˆå§‹åŒ–

åœ¨å¯¹é¡¹ç›®è¿›è¡Œåˆå§‹åŒ–ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå…‹éš†`emp`ä»“åº“ï¼Œå°†ç¤ºä¾‹ä»£ç æ‹‰å–åˆ°æœ¬åœ°ã€‚

```bash
git clone https://github.com/empjs/emp
```

:::danger ğŸš¨ å¯èƒ½é‡åˆ°çš„é”™è¯¯
å¦‚æœæ‚¨æ— æ³•æ‹‰å–é¡¹ç›®è‡³æœ¬åœ°ï¼Œè¯·æ£€æŸ¥æ‚¨çš„ç½‘ç»œç¯å¢ƒæˆ–ä»£ç†è®¾ç½®æ˜¯å¦å¯ä»¥è®¿é—®githubï¼Œå¦‚æœä»ä¸èƒ½è§£å†³ï¼Œè¯·è”ç³»æˆ‘ä»¬ã€‚
:::

åœ¨æ‹‰å–å®Œæˆä»£ç åï¼Œæˆ‘ä»¬è¿›å…¥ä»£ç çš„æ ¹ç›®å½•ï¼Œå®‰è£…é¡¹ç›®ä¾èµ–ï¼Œæ¨èä½¿ç”¨`PNPM`è¿›è¡Œå®‰è£…ï¼š

<PackageManagerTabs command="install" />

å®‰è£…å®Œä¾èµ–åï¼Œè¿è¡ŒVue2ç¤ºä¾‹é¡¹ç›®çš„å‰æœŸå‡†å¤‡å°±å®Œæˆäº†ğŸ‰ã€‚

## è¿è¡Œç¤ºä¾‹é¡¹ç›®

:::warning âš ï¸ æ³¨æ„
åœ¨è¿è¡Œç¤ºä¾‹é¡¹ç›®ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»å®Œæˆäº†å‰æœŸå‡†å¤‡ï¼Œå¹¶å½“å‰ç›®å½•å¤„äº`emp`ä»“åº“çš„æ ¹ç›®å½•ä¸‹ã€‚
:::

### vue2 demo

é¦–å…ˆè¿›å…¥ç¤ºä¾‹é¡¹ç›®çš„æ ¹ç›®å½•ï¼š

```bash
cd demos/vue2
```

ç„¶åè¿è¡Œä»£ç ï¼š
<PackageManagerTabs command="dev" />

è¿è¡ŒæˆåŠŸåï¼Œæ‚¨å¯ä»¥åˆ†åˆ«è®¿é—®`http://localhost:9001/` ä¸ `http://localhost:9002/`è¿›è¡ŒæŸ¥çœ‹ã€‚

#### æ¼”ç¤ºæ•ˆæœ

`:9001` åŸºç«™æ•ˆæœï¼š

<iframe src="https://mf-vue2.sc.empjs.dev/host/"
  style={{width: '100%', height: '1500px', border: `20px solid #aaa`, borderRadius: '4px', overflow: 'hidden'}}
  title="mf-host"
></iframe>

`:9002` åº”ç”¨æ•ˆæœï¼š

<iframe src="https://mf-vue2.sc.empjs.dev/app/"
  style={{width: '100%', height: '1000px', border: `20px solid #aaa`, borderRadius: '4px', overflow: 'hidden'}}
  title="mf-host"
></iframe>

### è¿œç¨‹ç»„ä»¶è°ƒç”¨
```vue title="vue-2-project/src/App.vue"
<template>
  <div class="main">
    <h1>Project App vue 2 project</h1>
    <h2>=== @v2b/Content ===</h2>
    <Content />
    <h2>CompositionApi</h2>
  <CompositionApi />
    <h2>=== @v2b/Table ===</h2>
    <Table />
  </div>
</template>

<script>
//import Content from "@v2b/Content"
export default {
  components: {
    Content: () => import('@v2b/Content'),
    Table: () => import('@v2b/Table'),
    CompositionApi: () => import('@v2b/CompositionApi'),
  },
}
</script>

<style scoped lang="scss">
.main {
  img {
    width: 200px;
  }

  h1 {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 60px;
  }
}
</style>

```

### é¡¹ç›®é…ç½®

```ts title="vue-2-base/emp.config.ts"
import {defineConfig} from '@empjs/cli'
import vue from '@empjs/plugin-vue2'
import {pluginRspackEmpShare} from '@empjs/share'
export default defineConfig(store => {
  return {
    plugins: [
      vue(),
      pluginRspackEmpShare({
        name: 'vue2Base',
        // åŸºç«™æš´éœ²è¿œç¨‹ç»„ä»¶
        exposes: {
          './Content': './src/components/Content',
          './Table': './src/components/table',
          './CompositionApi': './src/components/CompositionApi',
          './store': './src/store',
        },
        empRuntime: {
          // æ¨¡å—è”é‚¦è¿è¡Œæ—¶ä¾èµ–
          runtimeLib: "https://unpkg.yy.com/@empjs/share@3.1.5/output/sdk.js",
          // æ¡†æ¶ä¸å…¬å…±åº“ä¾èµ–
          shareLib: {
            vue: 'Vue@https://unpkg.com/vue@2.7.14/dist/vue.min.js',
            vuex: "Vuex@https://unpkg.com/vuex@3.6.2/dist/vuex.min.js",
            'element-ui': [
              'ELEMENT@https://unpkg.com/element-ui/lib/index.js',
              "https://unpkg.com/element-ui/lib/theme-chalk/index.css",
            ],
          },
          framework: 'vue2',
        },
      }),
    ],
    html: {
      title: 'EMP3 vue2 base',
    },
    server: {
      port: 9001,
      open: false,
    },
    appEntry: 'main.js',
    debug: {
      clearLog: false,
    },
  }
})

```

```ts title="vue-2-project/emp.config.ts"
import {defineConfig} from '@empjs/cli'
import vue from '@empjs/plugin-vue2'
import {pluginRspackEmpShare} from '@empjs/share'
// cf 1
//
export default defineConfig(store => {
  const ip = store.getLanIp()
  const vue2Base = `http://${ip}:9001/emp.js`
  return {
    plugins: [
      vue(),
      pluginRspackEmpShare({
        name: 'vue2Base',
        // é…ç½®ä¾èµ–çš„è¿œç¨‹é¡¹ç›®
        remotes: {
          '@v2b': `vue2Base@${vue2Base}`,
        },
        empRuntime: {
          // æ¨¡å—è”é‚¦è¿è¡Œæ—¶ä¾èµ–
          runtimeLib: "https://unpkg.yy.com/@empjs/share@3.1.5/output/sdk.js",
          // æ¡†æ¶ä¸å…¬å…±åº“ä¾èµ–
          shareLib: {
            vue: 'Vue@https://unpkg.com/vue@2.7.14/dist/vue.min.js',
            vuex: "Vuex@https://unpkg.com/vuex@3.6.2/dist/vuex.min.js",
            'element-ui': [
              'ELEMENT@https://unpkg.com/element-ui/lib/index.js',
              "https://unpkg.com/element-ui/lib/theme-chalk/index.css",
            ],
          },
          framework: 'vue2',
        },
      }),
    ],
    html: {
      title: 'EMP3 vue2 project',
    },
    server: {port: 9002},
    appEntry: 'main.js',
  }
})

```

## å¸¸è§é—®é¢˜

<YarnProblem />